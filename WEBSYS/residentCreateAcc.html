<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Account - Resident</title>
    <link rel="stylesheet" href="residentCreateAcc.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">

    <style>
        .error {
            font-size: 12px;
            color: red;
            margin-top: 5px;
        }
    </style>
</head>

<body>
    <div class="Login">
        <div class="background">
            <img class="backgrnd" src="icons/bg half.png" alt="bg">
        </div>
        <div class="logo">
            <img class="LegazpiLogo" src="icons/Legazpi-LOGO.png" />
            <img class="BrgyLogo" src="icons/BRGY LOGO.png" />
        </div>
        <div class="text">
            <div class="titleTxt"><span
                    style="color: white; font-size: 80px; font-family: 'Montserrat', sans-serif; font-weight: 700; line-height: 48px;">Barangay</span><span
                    style="color: white; font-size: 80px; font-family: 'Montserrat', sans-serif; font-weight: 700; line-height: 85px; "><br /></span><span
                    style="color: white; font-size: 80px; font-family: 'Montserrat', sans-serif; font-weight: 700; line-height: 85px;">Monitoring
                    <br />System</span>
            </div>
        </div>

        <div class="mainLogin">
            <form action="" method="post" class="forms">
                <div class="loginTop">Register</div>

                <div class="userName">
                    <div class="userTxt">Username</div>
                    <div class="usrNmInputField">
                        <input type="text" id="username" class="ComponentName" placeholder="Enter Username">
                        <div id="usernameError" class="error"></div>
                    </div>
                </div>

                <div class="password">
                    <div class="passTxt">Password</div>
                    <div class="passInputField">
                        <input type="password" id="password" class="ComponentName" placeholder="Enter Password">
                        <div id="passwordError" class="error"></div>
                    </div>
                </div>

                <div class="confirmPassword">
                    <div class="confirmpassTxt">Confirm Password</div>
                    <div class="confirmInputField">
                        <input type="password" id="confirmPassword" class="ComponentName" placeholder="Confirm Password">
                        <div id="confirmPasswordError" class="error"></div>
                    </div>
                </div>

                <div class="message">
                    In case you forgot your password, here are your security questions to regain access to your account.
                </div>

                <div class="fruit">
                    <div>What is your favorite fruit?</div>
                    <div class="fruitInputField">
                        <input type="text" id="favoriteFruit" class="ComponentName" placeholder="Enter your answer">
                        <div id="favoriteFruitError" class="error"></div>
                    </div>
                </div>

                <div class="animal">
                    <div>What is your favorite animal?</div>
                    <div class="animalInputField">
                        <input type="text" id="favoriteAnimal" class="ComponentName" placeholder="Enter your answer">
                        <div id="favoriteAnimalError" class="error"></div>
                    </div>
                </div>

                <div class="termsAndconditions">
                    <input type="checkbox" id="agreeCheckbox">
                    <label for="agreeCheckbox" class="ComponentName">By creating an account, you agree to the Terms and
                        Conditions
                        and Privacy Policy of our website.
                    </label>
                    <div id="termsError" class="error"></div>
                </div>

                <div class="button-container">
                    <a href="register.html" class="btn-back"> Back </a>
                    <button type="register" id="Btn">Register</button>
                </div>
            </form>
        </div>
    </div>

    <div class="popup">
        <div class="overlay"></div>
        <div class="popup-content">Are you sure you want to proceed?</div>
        <div class="buttonContainer">
            <div class="button" style="background: #999BA1; left: 0;" onclick="hidePopup()">
                <div class="Cancel">Cancel</div>
            </div>
            <div class="button" style="background: #748C70; left: 0px;" onclick="hidePopup()">
                <a href="registrationOverview.html" class="button"
                    style="text-decoration-line: none; background: #748C70; left: 0px; color: white;">Continue</a>
            </div>
        </div>
    </div>

    <script>

        function showPopup() {
            document.querySelector('.popup').style.display = 'block';   
        }
        function hidePopup() {
            document.querySelector('.popup').style.display = 'none';   
        }

        document.getElementById('Btn').addEventListener('click', function (event) {
            // Prevent form submission
            event.preventDefault(); 

            // Username validation
            var username = document.getElementById('username').value;
            var usernameRegex = /^[a-zA-Z0-9]{1,20}$/;
            var usernameValid = usernameRegex.test(username);
            var usernameEmpty = username.trim() === '';
            var usernameError = document.getElementById('usernameError');
            if (usernameEmpty) {
                usernameError.innerText = 'This field isrequi red';
            } else if (!usernameValid) {
                usernameError.innerText = 'Username is not valid. Please enter alphanumeric characters only';
            } else {
                usernameError.innerText = '';
            }

            // Password validation
            var password = document.getElementById('password').value;
            var passwordRegex = /^[a-zA-Z0-9]{1,20}$/;
            var passwordValid = passwordRegex.test(password);
            var passwordEmpty = password.trim() === '';
            var passwordError = document.getElementById('passwordError');
            if (passwordEmpty) {
                passwordError.innerText = 'This field is required';
            } else if (!passwordValid) {
                passwordError.innerText = 'Password is not valid. Please enter alphanumeric characters only';
            } else {
                passwordError.innerText = '';
            }

            // Confirm Password validation
            var confirmPassword = document.getElementById('confirmPassword').value;
            var confirmPasswordError = document.getElementById('confirmPasswordError');
            if (confirmPassword !== password) {
                confirmPasswordError.innerText = 'Passwords do not match';
            } else {
                confirmPasswordError.innerText = '';
            }

            // Favorite Fruit validation
            var favoriteFruit = document.getElementById('favoriteFruit').value;
            var favoriteFruitRegex = /^[a-zA-Z\s]+$/;
            var favoriteFruitValid = favoriteFruitRegex.test(favoriteFruit);
            var favoriteFruitEmpty = favoriteFruit.trim() === '';
            var favoriteFruitError = document.getElementById('favoriteFruitError');
            if (favoriteFruitEmpty) {
                favoriteFruitError.innerText = 'This field is required';
            } else if (!favoriteFruitValid) {
                favoriteFruitError.innerText = 'Favorite fruit should only contain letters';
            } else {
                favoriteFruitError.innerText = '';
            }

            // Favorite Animal validation
            var favoriteAnimal = document.getElementById('favoriteAnimal').value;
            var favoriteAnimalRegex = /^[a-zA-Z\s]+$/;
            var favoriteAnimalValid = favoriteAnimalRegex.test(favoriteAnimal);
            var favoriteAnimalEmpty = favoriteAnimal.trim() === '';
            var favoriteAnimalError = document.getElementById('favoriteAnimalError');
            if (favoriteAnimalEmpty) {
                favoriteAnimalError.innerText = 'This field is required';
            } else if (!favoriteAnimalValid) {
                favoriteAnimalError.innerText = 'Favorite animal should only contain letters';
            } else {
                favoriteAnimalError.innerText = '';
            }


            // If all validations pass, show the popup
            if (!usernameEmpty && usernameValid && !passwordEmpty && passwordValid && confirmPassword === password && 
                !favoriteFruitEmpty && favoriteFruitValid && !favoriteAnimalEmpty && favoriteAnimalValid && agreeCheckbox) {
                showPopup();
            }
        });
    </script>

</body>

</html>
